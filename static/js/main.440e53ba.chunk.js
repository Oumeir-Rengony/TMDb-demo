(this["webpackJsonptmdb-react-router-demo"]=this["webpackJsonptmdb-react-router-demo"]||[]).push([[0],{10:function(e,t,a){e.exports={pagination_wrapper:"Pagination_pagination_wrapper__2TCbo",pagination:"Pagination_pagination__3ECPV",page_numbers:"Pagination_page_numbers__1W4Sw",current:"Pagination_current__VLJnv",prev:"Pagination_prev__2_TDt",next:"Pagination_next__1S7YR"}},15:function(e,t,a){e.exports={overlay:"Overlay_overlay__34b3j",overlay_active:"Overlay_overlay_active__2N_TO",info:"Overlay_info__2sduE"}},16:function(e,t,a){e.exports={wrapper_dropdown:"Categories_wrapper_dropdown__2cETi",dropdown:"Categories_dropdown__2PWtI",dropdown_active:"Categories_dropdown_active__3wY7F"}},19:function(e,t,a){e.exports={Wrapper:"App_Wrapper__2ribl",movie_container:"App_movie_container__1MNi9"}},20:function(e,t,a){e.exports={container:"Movies_container__64aDi",poster:"Movies_poster__15EcD"}},23:function(e,t,a){e.exports={navbar:"Navbar_navbar__ZlzRC",logo:"Navbar_logo__E_On9"}},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a(33),o=a.n(r),i=a(8),s=(a(42),a(36)),p=a(9),d=a(2),l=a(19),j=a.n(l),u=a(20),b=a.n(u),v=a(34),_=a.n(v),g="https://api.themoviedb.org/3/movie",O="feb6f0eeaa0a72662967d77079850353",h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"toprated"===(e=e.toLowerCase())&&(e="top_rated");var a="".concat(g,"/").concat(e,"?api_key=").concat(O,"&language=en-US&page=").concat(t),n=_.a.get(a).then((function(e){return e.data.results})).catch((function(e){console.log(e)}));return n},m=a(15),x=a.n(m),f=a.p+"static/media/info.0ac460cb.svg",C=function(e){var t=e.movie,a=Object(c.useState)(!1),r=Object(p.a)(a,2),o=r[0],i=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{src:f,className:x.a.info,onClick:function(){return i((function(e){return!e}))},alt:"information"}),Object(n.jsxs)("div",{className:"".concat(x.a.overlay," ").concat(o?x.a.overlay_active:null),children:[Object(n.jsx)("h2",{children:t.title}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:t.overview})]})]})},w=function(e){var t=e.movies,a=Object(d.h)().page;void 0===a&&(a=1);var c=t.findIndex((function(e){return e.page===parseInt(a)}));return Object(n.jsx)(n.Fragment,{children:t[c].data.map((function(e){return Object(n.jsxs)("div",{className:b.a.container,children:[Object(n.jsx)("img",{src:(t=e.poster_path,"".concat("https://image.tmdb.org/t/p/w300","/").concat(t)),className:b.a.poster,alt:"poster"}),Object(n.jsx)(C,{movie:e})]},e.id);var t}))})},N=a(23),P=a.n(N),M=a(16),k=a.n(M),S=function(e){var t=e.currentMovie,a=e.handleMovieCategorie,r=Object(c.useState)(!1),o=Object(p.a)(r,2),s=o[0],d=o[1];return Object(n.jsxs)("div",{className:k.a.wrapper_dropdown,onClick:function(){return d((function(e){return!e}))},children:[Object(n.jsx)("span",{children:t}),Object(n.jsxs)("ul",{className:"".concat(k.a.dropdown," ").concat(s?k.a.dropdown_active:null),children:[Object(n.jsx)("li",{onClick:a,children:Object(n.jsx)(i.b,{to:"/1",children:"Popular"})}),Object(n.jsx)("li",{onClick:a,children:Object(n.jsx)(i.b,{to:"/upcoming/1",children:"Upcoming"})}),Object(n.jsx)("li",{onClick:a,children:Object(n.jsx)(i.b,{to:"/toprated/1",children:"TopRated"})})]})]})},y=a.p+"static/media/clapperboard.a4d989bf.svg",T=function(e){var t=e.currentMovie,a=e.handleMovieCategorie;return Object(n.jsxs)("div",{className:P.a.navbar,children:[Object(n.jsxs)("div",{className:P.a.logo,children:[Object(n.jsx)("img",{src:y,alt:"icon"}),Object(n.jsx)("span",{children:"MOVIES"})]}),Object(n.jsx)(S,{currentMovie:t,handleMovieCategorie:a})]})},E=Object(c.memo)(T),I=a(10),F=a.n(I),L=function(e){var t=e.handlePageClick,a=e.currentMovie,c=Object(d.g)().pathname,r=(c=c.split("/"))[c.length-1];""===r&&(r=1);var o=function(e){return"Popular"===a?"/".concat(e):"/".concat(a.toLowerCase(),"/").concat(e)};return Object(n.jsx)("div",{className:F.a.pagination_wrapper,children:Object(n.jsxs)("div",{className:F.a.pagination,children:[Object(n.jsx)("a",{className:"".concat(F.a.prev," ").concat(F.a.page_numbers),href:"/",children:"prev"}),function(){for(var e,a=[],c=1;c<=10;c++)a.push(Object(n.jsx)(i.b,{className:"".concat(F.a.page_numbers," ").concat((e=c,e===parseInt(r)?F.a.current:null)),to:o(c.toString()),onClick:t,children:c},c));return a}(),Object(n.jsx)("a",{className:"".concat(F.a.next," ").concat(F.a.page_numbers),href:"/",children:"next"})]})})};var D=function(){var e=Object(c.useState)([{id:1,page:1,data:[]}]),t=Object(p.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)([{id:1,page:1,data:[]}]),i=Object(p.a)(o,2),l=i[0],u=i[1],b=Object(c.useState)([{id:1,page:1,data:[]}]),v=Object(p.a)(b,2),_=v[0],g=v[1],O=Object(c.useState)("Popular"),m=Object(p.a)(O,2),x=m[0],f=m[1],C=Object(d.f)();Object(c.useEffect)((function(){h("popular",1).then((function(e){r([{id:1,page:1,data:e}])}))}),[]);var N=Object(c.useCallback)((function(e){var t=e.target.innerText;f(t),function(e){var t=0===l[0].data.length,a=0===_[0].data.length;(t||a)&&(e=e.toLowerCase(),h(e,1).then((function(n){"upcoming"===e&&t?u([{id:1,page:1,data:n}]):"toprated"===e&&a&&g([{id:1,page:1,data:n}])})))}(t)}),[x]),P=function(e,t,a,n){0===t.filter((function(t){return t.id===e})).length?h(x,e).then((function(t){a((function(a){return[].concat(Object(s.a)(a),[{id:e,page:e,data:t}])})),C.push(n)})):C.push(n)};return Object(n.jsxs)("div",{id:j.a.Wrapper,children:[Object(n.jsx)(E,{currentMovie:x,handleMovieCategorie:N}),Object(n.jsx)("div",{className:j.a.movie_container,children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/:page?",exact:!0,children:Object(n.jsx)(w,{movies:a})}),Object(n.jsx)(d.a,{path:"/upcoming/:page",children:Object(n.jsx)(w,{movies:l})}),Object(n.jsx)(d.a,{path:"/toprated/:page",children:Object(n.jsx)(w,{movies:_})})]})}),Object(n.jsx)(L,{handlePageClick:function(e){e.preventDefault();var t=parseInt(e.target.innerText),n="";"Popular"===x?(n="/".concat(t),P(t,a,r,n)):"Upcoming"===x?(n="/upcoming/".concat(t),P(t,l,u,n)):(n="/toprated/".concat(t),P(t,_,g,n))},currentMovie:x})]})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(D,{})}),document.getElementById("root")),W()}},[[66,1,2]]]);
//# sourceMappingURL=main.440e53ba.chunk.js.map